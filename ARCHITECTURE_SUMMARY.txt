====================================================
HOÃ€N Táº¤T KIáº¾N TRÃšC PHáº¦N Má»€M - CHAT DESKTOP APP
====================================================

ğŸ“ CÃC FILE ÄÃƒ Táº O:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. SOFTWARE_ARCHITECTURE.md
   - Kiáº¿n trÃºc chi tiáº¿t toÃ n bá»™ há»‡ thá»‘ng
   - MÃ´ táº£ cÃ¡c lá»›p: Frontend, Backend, Services
   - Database schema Ä‘áº§y Ä‘á»§
   - Luá»“ng dá»¯ liá»‡u chi tiáº¿t
   - Báº£o máº­t vÃ  deployment

2. architecture-diagram.md
   - SÆ¡ Ä‘á»“ Mermaid cÃ³ thá»ƒ render
   - Tá»•ng quan há»‡ thá»‘ng
   - Cáº¥u trÃºc Frontend
   - Backend Architecture
   - Data flow sequences
   - Database schema ERD
   - Component interactions

3. README.md (ÄÃ£ cáº­p nháº­t)
   - ThÃªm links Ä‘áº¿n cÃ¡c file kiáº¿n trÃºc
   - Bá»• sung thÃ´ng tin cÃ´ng nghá»‡ Ä‘áº§y Ä‘á»§
   - Cáº¥u trÃºc rÃµ rÃ ng hÆ¡n

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ—ï¸ KIáº¾N TRÃšC 3 Lá»šP:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Lá»šP 1: FRONTEND (Client)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ ElectronJS - Desktop shell             â”‚
â”‚ â€¢ React 18 - UI components               â”‚
â”‚ â€¢ Webpack + Babel - Build tools          â”‚
â”‚ â€¢ api.js - HTTP client                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ HTTP REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Lá»šP 2: BACKEND (Server)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Flask - Web framework                  â”‚
â”‚ â€¢ SystemController - Singleton           â”‚
â”‚ â€¢ Managers:                              â”‚
â”‚   - AuthManager (login, signup)          â”‚
â”‚   - UserManager (profile, friends)       â”‚
â”‚   - ChatManager (messages, translate)    â”‚
â”‚   - FileManager (upload/download)        â”‚
â”‚   - GroupManager (groups)                â”‚
â”‚   - NotificationManager (notifications)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Lá»šP 3: EXTERNAL SERVICES               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Firebase Firestore - Database          â”‚
â”‚ â€¢ Firebase Auth - Authentication         â”‚
â”‚ â€¢ pCloud API - Cloud Storage             â”‚
â”‚ â€¢ Google Translation API                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”¥ FIREBASE FIRESTORE SCHEMA:

Collections:
  â€¢ users/{username}
    - Personal info, friends, groups
    - Status, avatar, bio
    - Notifications, blocked users
    
  â€¢ gmail/{gmail}
    - Username mapping
    
  â€¢ chat/{chatId}
    - Direct conversations
    - Sub-collection: conversation
      * Messages with metadata
    
  â€¢ groups/{groupName}
    - Group info, members, admins
    - Sub-collection: conversation
      * Group messages

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â˜ï¸ PCLOUD INTEGRATION:

File Upload Flow:
  1. User chá»n file
  2. Backend upload â†’ pCloud API
  3. Get public URL
  4. Save URL to Firestore
  5. Return URL to frontend

Supports:
  - Images (jpg, png, gif...)
  - Videos
  - Documents
  - MIME type detection

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŒ GOOGLE TRANSLATION API:

Features:
  - Real-time message translation
  - Multi-language support:
    * vi (Tiáº¿ng Viá»‡t)
    * en (English)
    * ja (æ—¥æœ¬èª)
    * ko (í•œêµ­ì–´)
    * zh (ä¸­æ–‡)

Flow:
  User clicks Translate
    â†’ Backend calls API
    â†’ Return translated text
    â†’ Display in UI

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” Báº¢O Máº¬T:

â€¢ Password Hashing: Bcrypt with salt
â€¢ Session Tracking: IP + timestamp
â€¢ Status Management: online/offline
â€¢ Block Mechanism: User blocking
â€¢ CORS Protection: Origin restrictions
â€¢ Input Validation: Sanitization

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ QUY TRÃŒNH HOáº T Äá»˜NG:

1. USER LOGIN:
   LoginPage â†’ api.js â†’ Flask â†’ AuthManager
   â†’ Verify credentials â†’ Update status
   â†’ Load current_user â†’ Return to frontend

2. SEND MESSAGE:
   ChatWindow â†’ api.js â†’ Flask â†’ ChatManager
   â†’ Save to Firestore â†’ Notify recipient
   â†’ Return success â†’ Update UI

3. UPLOAD FILE:
   ChatWindow â†’ api.js â†’ Flask â†’ FileManager
   â†’ Upload to pCloud â†’ Get URL
   â†’ Save message with URL â†’ Update UI

4. TRANSLATE:
   ChatWindow â†’ api.js â†’ Flask â†’ ChatManager
   â†’ Call Translation API â†’ Return text
   â†’ Display in UI

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š TECHNOLOGY STACK:

Frontend:
  â€¢ ElectronJS v27
  â€¢ React 18.2
  â€¢ Webpack 5
  â€¢ Babel 7

Backend:
  â€¢ Python 3.x
  â€¢ Flask
  â€¢ Firebase Admin SDK
  â€¢ Bcrypt

External:
  â€¢ Firebase Firestore
  â€¢ Firebase Auth
  â€¢ pCloud API
  â€¢ Google Translate API

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“– CÃCH XEM KIáº¾N TRÃšC:

1. SOFTWARE_ARCHITECTURE.md:
   - Má»Ÿ file Ä‘á»ƒ Ä‘á»c chi tiáº¿t
   - CÃ³ diagrams ASCII
   - Luá»“ng dá»¯ liá»‡u chi tiáº¿t

2. architecture-diagram.md:
   - Cáº§n Mermaid renderer
   - Hoáº·c xem trÃªn GitHub/GitLab
   - Hoáº·c VS Code vá»›i Mermaid extension

3. GitHub/GitLab:
   - Upload lÃªn repo
   - Render tá»± Ä‘á»™ng vá»›i Mermaid

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… HOÃ€N Táº¤T!

Táº¥t cáº£ documentation Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng.
Há»‡ thá»‘ng cÃ³ kiáº¿n trÃºc rÃµ rÃ ng, dá»… hiá»ƒu, dá»… má»Ÿ rá»™ng.

Äá»ƒ báº¯t Ä‘áº§u phÃ¡t triá»ƒn:
  1. Äá»c SOFTWARE_ARCHITECTURE.md
  2. Xem sÆ¡ Ä‘á»“ trong architecture-diagram.md
  3. Tham kháº£o README.md

====================================================

